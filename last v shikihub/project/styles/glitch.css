/* Glitch Effects */

/* Main title glitch effect */
h1.main-title-glitch {
  color: var(--neon-blue);
  position: relative;
}

h1.main-title-glitch:before, 
h1.main-title-glitch:after,
.auth-header:before,
.auth-header:after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.8;
}

h1.main-title-glitch:before,
.auth-header:before {
  left: 2px;
  text-shadow: -1px 0 var(--neon-pink);
  animation: glitch-anim-1 2s infinite linear alternate-reverse;
  clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%, 0 45%, 100% 45%, 100% 85%, 0 85%, 0 100%, 100% 100%);
}

h1.main-title-glitch:after,
.auth-header:after {
  left: -2px;
  text-shadow: 1px 0 var(--neon-blue);
  animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
  clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%, 0 60%, 100% 60%, 100% 75%, 0 75%, 0 100%, 100% 100%);
}

@keyframes glitch-anim-1 {
  0% { 
    clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%, 0 45%, 100% 45%, 100% 85%, 0 85%, 0 100%, 100% 100%);
    transform: translate(0);
  }
  20% { 
    clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%, 0 65%, 100% 65%, 100% 80%, 0 80%, 0 100%, 100% 100%);
    transform: translate(-3px);
  }
  40% { 
    clip-path: polygon(0 10%, 100% 10%, 100% 25%, 0 25%, 0 80%, 100% 80%, 100% 90%, 0 90%, 0 100%, 100% 100%);
    transform: translate(3px, 1px);
  }
  60% { 
    clip-path: polygon(0 30%, 100% 30%, 100% 50%, 0 50%, 0 70%, 100% 70%, 100% 90%, 0 90%, 0 100%, 100% 100%);
    transform: translate(3px, -1px);
  }
  80% { 
    clip-path: polygon(0 20%, 100% 20%, 100% 40%, 0 40%, 0 55%, 100% 55%, 100% 70%, 0 70%, 0 100%, 100% 100%);
    transform: translate(-3px);
  }
  100% { 
    clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%, 0 45%, 100% 45%, 100% 85%, 0 85%, 0 100%, 100% 100%);
    transform: translate(0);
  }
}

@keyframes glitch-anim-2 {
  0% { 
    clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%, 0 60%, 100% 60%, 100% 75%, 0 75%, 0 100%, 100% 100%);
    transform: translate(0);
  }
  20% { 
    clip-path: polygon(0 5%, 100% 5%, 100% 20%, 0 20%, 0 50%, 100% 50%, 100% 70%, 0 70%, 0 100%, 100% 100%);
    transform: translate(3px, 1px);
  }
  40% { 
    clip-path: polygon(0 25%, 100% 25%, 100% 40%, 0 40%, 0 65%, 100% 65%, 100% 80%, 0 80%, 0 100%, 100% 100%);
    transform: translate(-3px);
  }
  60% { 
    clip-path: polygon(0 35%, 100% 35%, 100% 45%, 0 45%, 0 75%, 100% 75%, 100% 85%, 0 85%, 0 100%, 100% 100%);
    transform: translate(3px, -1px);
  }
  80% { 
    clip-path: polygon(0 0, 100% 0, 100% 10%, 0 10%, 0 45%, 100% 45%, 100% 65%, 0 65%, 0 100%, 100% 100%);
    transform: translate(-3px, 1px);
  }
  100% { 
    clip-path: polygon(0 15%, 100% 15%, 100% 30%, 0 30%, 0 60%, 100% 60%, 100% 75%, 0 75%, 0 100%, 100% 100%);
    transform: translate(0);
  }
}

/* Tab button glitch animation */
.tab-btn.glitch-active {
  position: relative;
  animation: tabGlitch 0.5s infinite;
}

@keyframes tabGlitch {
  0% { 
    transform: translate(0, -3px) skew(0deg);
    text-shadow: 0.5px 0 0 var(--neon-pink), -0.5px 0 0 var(--neon-blue);
  }
  25% { 
    transform: translate(0.5px, -2.5px) skew(0.5deg);
    text-shadow: 1px 0 0 var(--neon-pink), -1px 0 0 var(--neon-blue);
  }
  50% { 
    transform: translate(-0.5px, -3px) skew(-0.5deg);
    text-shadow: 0.5px 0 0 var(--neon-pink), -0.5px 0 0 var(--neon-blue);
  }
  75% { 
    transform: translate(0.5px, -3.5px) skew(0.5deg);
    text-shadow: 1px 0 0 var(--neon-pink), -1px 0 0 var(--neon-blue);
  }
  100% { 
    transform: translate(0, -3px) skew(0deg);
    text-shadow: 0.5px 0 0 var(--neon-pink), -0.5px 0 0 var(--neon-blue);
  }
}

/* Module title glitch */
.module-title {
  position: relative;
}

.module-title:hover:before {
  content: attr(data-text);
  position: absolute;
  left: -2px;
  top: 0;
  color: var(--neon-pink);
  background: var(--bg-darker);
  overflow: hidden;
  clip: rect(0, 900px, 0, 0);
  animation: noise-anim 2s infinite linear alternate-reverse;
}

@keyframes noise-anim {
  0% {
    clip: rect(23px, 9999px, 65px, 0);
  }
  5% {
    clip: rect(74px, 9999px, 39px, 0);
  }
  10% {
    clip: rect(3px, 9999px, 10px, 0);
  }
  15% {
    clip: rect(85px, 9999px, 32px, 0);
  }
  20% {
    clip: rect(39px, 9999px, 13px, 0);
  }
  25% {
    clip: rect(97px, 9999px, 90px, 0);
  }
  30% {
    clip: rect(48px, 9999px, 47px, 0);
  }
  35% {
    clip: rect(8px, 9999px, 88px, 0);
  }
  40% {
    clip: rect(28px, 9999px, 33px, 0);
  }
  45% {
    clip: rect(54px, 9999px, 95px, 0);
  }
  50% {
    clip: rect(89px, 9999px, 34px, 0);
  }
  55% {
    clip: rect(32px, 9999px, 7px, 0);
  }
  60% {
    clip: rect(41px, 9999px, 22px, 0);
  }
  65% {
    clip: rect(63px, 9999px, 51px, 0);
  }
  70% {
    clip: rect(59px, 9999px, 69px, 0);
  }
  75% {
    clip: rect(19px, 9999px, 58px, 0);
  }
  80% {
    clip: rect(98px, 9999px, 42px, 0);
  }
  85% {
    clip: rect(83px, 9999px, 60px, 0);
  }
  90% {
    clip: rect(56px, 9999px, 84px, 0);
  }
  95% {
    clip: rect(22px, 9999px, 93px, 0);
  }
  100% {
    clip: rect(78px, 9999px, 37px, 0);
  }
}

/* Button glitch effects */
.action-btn:after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.1) 50%, transparent 50%, transparent 75%, rgba(255,255,255,0.1) 75%);
  background-size: 8px 8px;
  opacity: 0;
  transition: opacity 0.3s;
  pointer-events: none;
}

.action-btn:hover:after {
  opacity: 1;
  animation: buttonGlitch 0.5s linear infinite;
}

@keyframes buttonGlitch {
  0% { background-position: 0 0; }
  100% { background-position: 8px 0; }
}

/* General glitch class for any element */
.glitch {
  position: relative;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch::before {
  left: 2px;
  text-shadow: -1px 0 var(--neon-pink);
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim-1 5s infinite linear alternate-reverse;
}

.glitch::after {
  left: -2px;
  text-shadow: -1px 0 var(--neon-blue);
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim-2 5s infinite linear alternate-reverse;
}

/* CRT flicker effect */
.cyber-box:after {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background: rgba(18, 16, 16, 0.1);
  opacity: 0;
  z-index: 2;
  pointer-events: none;
}

.cyber-box:hover:after {
  opacity: 0.15;
  animation: flicker 0.3s infinite;
}

@keyframes flicker {
  0% { opacity: 0.2; }
  50% { opacity: 0.1; }
  100% { opacity: 0.2; }
}